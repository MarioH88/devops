name: Branch Protection

on:
  push:
    branches: [ main ]

jobs:
  # Block non-owners from direct pushes to main
  branch-protection:
    runs-on: ubuntu-latest
    if: github.actor != 'MarioH88'
    steps:
      - name: Block Unauthorized Direct Push
        run: |
          echo "üö® BLOCKED: Direct push to main not allowed"
          echo "User: ${{ github.actor }}"
          echo ""
          echo "üìã Please use Pull Request workflow:"
          echo "1. Create a feature branch: git checkout -b feature/your-feature"
          echo "2. Submit a Pull Request to main branch"
          echo "3. Wait for @MarioH88 approval and merge"
          echo "4. Auto-deploy happens after approval"
          echo ""
          echo "‚ÑπÔ∏è Only @MarioH88 can push directly to main"
          exit 1